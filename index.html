<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Menu Drop Down com jQuery</title>
<link rel="stylesheet" type="text/css" href="css/menu.css"
	media="screen" />
<script type="text/javascript"
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
<script type="text/javascript" src="jquery.hoverIntent.minified.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		//On Hover Over
		function megaHoverOver() {
			$(this).find(".sub").stop().fadeTo('fast', 1).show(); //Find sub and fade it in
			(function($) {
				//Function to calculate total width of all ul's
				jQuery.fn.calcSubWidth = function() {
					rowWidth = 0;
					//Calculate row
					$(this).find("ul").each(function() { //for each ul...
						rowWidth += $(this).width(); //Add each ul's width together
					});
				};
			})(jQuery);

			if ($(this).find(".row").length > 0) { //If row exists...

				var biggestRow = 0;

				$(this).find(".row").each(function() { //for each row...
					$(this).calcSubWidth(); //Call function to calculate width of all ul's
					//Find biggest row
					if (rowWidth > biggestRow) {
						biggestRow = rowWidth;
					}
				});

				$(this).find(".sub").css({
					'width' : biggestRow
				}); //Set width
				$(this).find(".row:last").css({
					'margin' : '0'
				}); //Kill last row's margin

			} else { //If row does not exist...

				$(this).calcSubWidth(); //Call function to calculate width of all ul's
				$(this).find(".sub").css({
					'width' : rowWidth
				}); //Set Width

			}
		}
		//On Hover Out
		function megaHoverOut() {
			$(this).find(".sub").stop().fadeTo('fast', 0, function() { //Fade to 0 opactiy
				$(this).hide(); //after fading, hide it
			});
		}
		//Set custom configurations
		var config = {
			sensitivity : 2, // number = sensitivity threshold (must be 1 or higher)
			interval : 100, // number = milliseconds for onMouseOver polling interval
			over : megaHoverOver, // function = onMouseOver callback (REQUIRED)
			timeout : 500, // number = milliseconds delay before onMouseOut
			out : megaHoverOut
		// function = onMouseOut callback (REQUIRED)
		};

		$("ul#topnav li .sub").css({
			'opacity' : '0'
		}); //Fade sub nav to 0 opacity on default
		$("ul#topnav li").hoverIntent(config); //Trigger Hover intent with custom configurations
	});
</script>
</head>

<body>
<div id="menu">
<ul id="topnav">
	<li><a href="#" class="home">Home</a></li>
	<li><a href="#" class="products">Products</a>
	<div class="sub">
	<ul>
		<li>
		<h2><a href="#">Desktop</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	<ul>
		<li>
		<h2><a href="#">Laptop</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	<ul>
		<li>
		<h2><a href="#">Accessories</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	<ul>
		<li>
		<h2><a href="#">Accessories</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	</div>
	</li>
	<li><a href="#" class="sale">Sale</a>

	<div class="sub">
	<ul>
		<li>
		<h2><a href="#">Desktop</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	<ul>
		<li>
		<h2><a href="#">Laptop</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	<ul>
		<li>
		<h2><a href="#">Accessories</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	<ul>
		<li>
		<h2><a href="#">Accessories</a></h2>
		</li>
		<li><a href="#">Navigation Link</a></li>
		<li><a href="#">Navigation Link</a></li>
	</ul>
	</div>

	</li>
	<li><a href="#" class="community">Community</a></li>
	<li><a href="#" class="store">Store Locator</a></li>
</ul>
</div>
</body>
</html>